{"uuid": "d025d291-6d75-49e9-a8c6-cecf67eb9a77", "tags": [], "format-version": "0.1", "name": "FAANG-ChIPSeq-1-PreProcessing-SE", "steps": {"0": {"tool_id": null, "tool_version": null, "outputs": [], "workflow_outputs": [{"output_name": "output", "uuid": "f187b8c6-c6ce-4e5c-994b-93430286bc27", "label": null}], "input_connections": {}, "tool_state": "{}", "id": 0, "uuid": "8123dc2f-cc8b-4060-aeab-c2442a9687de", "errors": null, "name": "Input dataset", "label": "FASTQ data", "inputs": [], "position": {"top": 200, "left": 200}, "annotation": "The data can be a fastqsanger (,fq) file or a  fastqsanger.gz (fq.gz) file. Please double check the data type in the history after upload the data.", "content_id": null, "type": "data_input"}, "1": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/trim_galore/trim_galore/0.4.3.1", "tool_version": "0.4.3.1", "outputs": [{"type": "input", "name": "trimmed_reads_paired_collection"}, {"type": "input", "name": "trimmed_reads_unpaired_collection"}, {"type": "input", "name": "trimmed_reads_single"}, {"type": "input", "name": "trimmed_reads_pair1"}, {"type": "input", "name": "trimmed_reads_pair2"}, {"type": "input", "name": "unpaired_reads_1"}, {"type": "input", "name": "unpaired_reads_2"}, {"type": "txt", "name": "report_file"}], "workflow_outputs": [{"output_name": "report_file", "uuid": "23ec357e-4ccf-4e64-886d-2717c590eecb", "label": null}], "input_connections": {"singlePaired|input_singles": {"output_name": "output", "id": 0}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"params\": \"{\\\"min_length\\\": \\\"20\\\", \\\"stringency\\\": \\\"1\\\", \\\"error_rate\\\": \\\"0.1\\\", \\\"retain_unpaired\\\": {\\\"retain_unpaired_select\\\": \\\"no_output\\\", \\\"__current_case__\\\": 0}, \\\"__current_case__\\\": 1, \\\"report\\\": \\\"true\\\", \\\"settingsType\\\": \\\"custom\\\", \\\"quality\\\": \\\"20\\\", \\\"clip_R1\\\": \\\"\\\", \\\"clip_R2\\\": \\\"\\\"}\", \"rrbs\": \"{\\\"settingsType\\\": \\\"default\\\", \\\"__current_case__\\\": 0}\", \"singlePaired\": \"{\\\"three_prime_clip_R1\\\": \\\"\\\", \\\"trimming\\\": {\\\"trimming_select\\\": \\\"\\\", \\\"__current_case__\\\": 0}, \\\"sPaired\\\": \\\"single\\\", \\\"__current_case__\\\": 0, \\\"input_singles\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}\"}", "id": 1, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "949f01671246", "name": "trim_galore", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "41022c68-a2dc-41ec-b9da-81643a2f64f5", "errors": null, "name": "Trim Galore!", "post_job_actions": {"RenameDatasetActiontrimmed_reads_single": {"output_name": "trimmed_reads_single", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}.trimmed.fq.gz"}}, "RenameDatasetActionreport_file": {"output_name": "report_file", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}.trimmed_report.txt"}}, "HideDatasetActiontrimmed_reads_pair2": {"output_name": "trimmed_reads_pair2", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActiontrimmed_reads_pair1": {"output_name": "trimmed_reads_pair1", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActiontrimmed_reads_single": {"output_name": "trimmed_reads_single", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionunpaired_reads_2": {"output_name": "unpaired_reads_2", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionunpaired_reads_1": {"output_name": "unpaired_reads_1", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActiontrimmed_reads_unpaired_collection": {"output_name": "trimmed_reads_unpaired_collection", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActiontrimmed_reads_paired_collection": {"output_name": "trimmed_reads_paired_collection", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "QC and Trimming (Trim Galore!)", "inputs": [{"name": "singlePaired", "description": "runtime parameter for tool Trim Galore!"}], "position": {"top": 200, "left": 446}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/trim_galore/trim_galore/0.4.3.1", "type": "tool"}, "2": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/bwa/bwa_mem/0.7.15.1", "tool_version": "0.7.15.1", "outputs": [{"type": "bam", "name": "bam_output"}], "workflow_outputs": [{"output_name": "bam_output", "uuid": "8656b1d4-b724-4e27-99eb-e41263f696cd", "label": null}], "input_connections": {"fastq_input|fastq_input1": {"output_name": "trimmed_reads_single", "id": 1}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"__job_resource\": \"{\\\"__current_case__\\\": 0, \\\"__job_resource__select\\\": \\\"no\\\"}\", \"rg\": \"{\\\"rg_selector\\\": \\\"do_not_set\\\", \\\"__current_case__\\\": 3}\", \"fastq_input\": \"{\\\"__current_case__\\\": 1, \\\"fastq_input_selector\\\": \\\"single\\\", \\\"fastq_input1\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}\", \"analysis_type\": \"{\\\"analysis_type_selector\\\": \\\"full\\\", \\\"algorithmic_options\\\": {\\\"algorithmic_options_selector\\\": \\\"do_not_set\\\", \\\"__current_case__\\\": 1}, \\\"io_options\\\": {\\\"a\\\": \\\"false\\\", \\\"C\\\": \\\"false\\\", \\\"io_options_selector\\\": \\\"set\\\", \\\"h\\\": \\\"5\\\", \\\"M\\\": \\\"true\\\", \\\"T\\\": \\\"30\\\", \\\"__current_case__\\\": 0, \\\"V\\\": \\\"false\\\", \\\"Y\\\": \\\"false\\\"}, \\\"__current_case__\\\": 4, \\\"scoring_options\\\": {\\\"scoring_options_selector\\\": \\\"do_not_set\\\", \\\"__current_case__\\\": 1}}\", \"reference_source\": \"{\\\"ref_file\\\": \\\"galGal4\\\", \\\"reference_source_selector\\\": \\\"cached\\\", \\\"__current_case__\\\": 0}\"}", "id": 2, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "53646aaaafef", "name": "bwa", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "f4a9b956-4038-4063-a1d2-b7925233c9ab", "errors": null, "name": "Map with BWA-MEM", "post_job_actions": {"RenameDatasetActionbam_output": {"output_name": "bam_output", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}.aligned.bam"}}}, "label": "Read Alignment (BWA)", "inputs": [{"name": "fastq_input", "description": "runtime parameter for tool Map with BWA-MEM"}], "position": {"top": 200, "left": 768}, "annotation": "For most public server, the reference genome may already be available. Please simply select \"Use a built-in genome index\" in the following box and then select the reference genome you would like to use.", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/bwa/bwa_mem/0.7.15.1", "type": "tool"}, "3": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "trimmed_reads_single", "id": 1}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"/^@/ { n += 1}\\\\nEND { printf \\\\\\\"%12s    %14s\\\\\\\\n\\\\\\\", \\\\\\\"Trimmed\\\\\\\", n }\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 3, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "dd76e548-017f-48aa-9c53-92c99b6dc2c5", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutfile": {"output_name": "outfile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "nTrimmedReads.txt"}}}, "label": "# Trimmed Reads", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 330, "left": 768}, "annotation": "To count trimmed reads by counting the lines starting with '@' in the FASTQ file.", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "type": "tool"}, "4": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "report_file", "id": 1}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"BEGIN {FS=\\\\\\\" \\\\\\\"}\\\\n/^Total reads processed:/ { n = $NF }\\\\nEND {\\\\n    gsub(/,/,\\\\\\\"\\\\\\\",n)\\\\n    printf \\\\\\\"%12s    %14s\\\\\\\\n\\\\\\\", \\\\\\\"Raw\\\\\\\", n\\\\n}\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 4, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "de7bf4c7-74de-48d9-bf63-e8ba0b1f8422", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutfile": {"output_name": "outfile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "nTotalReads.txt"}}}, "label": "# Total Reads", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 443, "left": 768}, "annotation": "To extract total read number from the report of trimming", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "type": "tool"}, "5": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtool_filter2/samtool_filter2/1.1.2", "tool_version": "1.1.2", "outputs": [{"type": "sam", "name": "output1"}], "workflow_outputs": [], "input_connections": {"input1": {"output_name": "bam_output", "id": 2}}, "tool_state": "{\"__page__\": null, \"bed_file\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"input1\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"possibly_select_inverse\": \"\\\"false\\\"\", \"outputtype\": \"\\\"sam\\\"\", \"library\": \"\\\"\\\"\", \"regions\": \"\\\"\\\"\", \"header\": \"\\\"-h\\\"\", \"flag\": \"{\\\"filter\\\": \\\"yes\\\", \\\"skipBits\\\": [\\\"0x0004\\\", \\\"0x0008\\\", \\\"0x0100\\\", \\\"0x0200\\\", \\\"0x0400\\\"], \\\"__current_case__\\\": 1, \\\"reqBits\\\": null}\", \"mapq\": \"\\\"${minimum_mapq_quality_score}\\\"\", \"read_group\": \"\\\"\\\"\", \"__rerun_remap_job_id__\": null}", "id": 5, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "b7aa423007bf", "name": "samtool_filter2", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "dd778d0c-94f1-4872-b56b-ea6421f97607", "errors": null, "name": "Filter SAM or BAM, output SAM or BAM", "post_job_actions": {"HideDatasetActionoutput1": {"output_name": "output1", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Filter Reads - Quality", "inputs": [{"name": "bed_file", "description": "runtime parameter for tool Filter SAM or BAM, output SAM or BAM"}, {"name": "input1", "description": "runtime parameter for tool Filter SAM or BAM, output SAM or BAM"}], "position": {"top": 200, "left": 1039}, "annotation": "1. To remove reads with low MAPQ score;\n2. To filter the reads with a FLAG value of 1804.", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtool_filter2/samtool_filter2/1.1.2", "type": "tool"}, "6": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_flagstat/samtools_flagstat/2.0", "tool_version": "2.0", "outputs": [{"type": "txt", "name": "output1"}], "workflow_outputs": [], "input_connections": {"input1": {"output_name": "bam_output", "id": 2}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"input1\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 6, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "0072bf593791", "name": "samtools_flagstat", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "93b8ec1c-5c69-47b9-9a09-763a0ff7182e", "errors": null, "name": "Flagstat", "post_job_actions": {"HideDatasetActionoutput1": {"output_name": "output1", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutput1": {"output_name": "output1", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "stat_aligned.txt"}}}, "label": "STAT - Aligned", "inputs": [{"name": "input1", "description": "runtime parameter for tool Flagstat"}], "position": {"top": 357, "left": 1039}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_flagstat/samtools_flagstat/2.0", "type": "tool"}, "7": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "output1", "id": 5}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"BEGIN { FS=\\\\\\\"\\\\\\\\t\\\\\\\" }\\\\n$12 !~ /XA:Z/ && $12 !~ /SA:Z/ { print }\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 7, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "8bc64544-f0aa-4022-890e-6e33e73e8e68", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutfile": {"output_name": "outfile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}.filtered.sam"}}}, "label": "Filter Reads - XA/SA", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 200, "left": 1367}, "annotation": "To remove reads marked with XA:Z or SA:Z;", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "type": "tool"}, "8": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "output1", "id": 6}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"BEGIN {FS=\\\\\\\" \\\\\\\"}\\\\n/mapped \\\\\\\\(/  { printf \\\\\\\"%12s    %14s\\\\\\\\n\\\\\\\", \\\\\\\"Aligned\\\\\\\", $1 }\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 8, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "04783703-b4b7-4048-bfa2-891f54257e23", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutfile": {"output_name": "outfile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "nAlignedReads.txt"}}}, "label": "# Aligned Reads", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 330, "left": 1367}, "annotation": "To extract the number of aligned reads from the report of samtools flagstat", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "type": "tool"}, "9": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtool_filter2/samtool_filter2/1.1.2", "tool_version": "1.1.2", "outputs": [{"type": "sam", "name": "output1"}], "workflow_outputs": [], "input_connections": {"input1": {"output_name": "outfile", "id": 7}}, "tool_state": "{\"__page__\": null, \"bed_file\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"input1\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"possibly_select_inverse\": \"\\\"false\\\"\", \"outputtype\": \"\\\"bam\\\"\", \"library\": \"\\\"\\\"\", \"regions\": \"\\\"\\\"\", \"header\": \"\\\"-h\\\"\", \"flag\": \"{\\\"filter\\\": \\\"no\\\", \\\"__current_case__\\\": 0}\", \"mapq\": \"\\\"${minimum_mapq_quality_score}\\\"\", \"read_group\": \"\\\"\\\"\", \"__rerun_remap_job_id__\": null}", "id": 9, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "b7aa423007bf", "name": "samtool_filter2", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "503d3f72-a367-4b0f-9016-d50019babeb3", "errors": null, "name": "Filter SAM or BAM, output SAM or BAM", "post_job_actions": {"HideDatasetActionoutput1": {"output_name": "output1", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutput1": {"output_name": "output1", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}.filtered.bam"}}}, "label": "SAM-to-BAM", "inputs": [{"name": "bed_file", "description": "runtime parameter for tool Filter SAM or BAM, output SAM or BAM"}, {"name": "input1", "description": "runtime parameter for tool Filter SAM or BAM, output SAM or BAM"}], "position": {"top": 200, "left": 1625}, "annotation": "To convert SAM files to BAM files.", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtool_filter2/samtool_filter2/1.1.2", "type": "tool"}, "10": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/picard/picard_MarkDuplicates/2.7.1.1", "tool_version": "2.7.1.1", "outputs": [{"type": "txt", "name": "metrics_file"}, {"type": "bam", "name": "outFile"}], "workflow_outputs": [], "input_connections": {"inputFile": {"output_name": "output1", "id": 9}}, "tool_state": "{\"duplicate_scoring_strategy\": \"\\\"SUM_OF_BASE_QUALITIES\\\"\", \"remove_duplicates\": \"\\\"false\\\"\", \"read_name_regex\": \"\\\"[a-zA-Z0-9]+:[0-9]:([0-9]+):([0-9]+):([0-9]+).*.\\\"\", \"barcode_tag\": \"\\\"\\\"\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"validation_stringency\": \"\\\"LENIENT\\\"\", \"comments\": \"[]\", \"assume_sorted\": \"\\\"true\\\"\", \"optical_duplicate_pixel_distance\": \"\\\"100\\\"\", \"inputFile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 10, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "fc288950c3b7", "name": "picard", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "a495dfc4-cfb3-4376-9486-772351b158f0", "errors": null, "name": "MarkDuplicates", "post_job_actions": {"HideDatasetActionoutFile": {"output_name": "outFile", "action_type": "HideDatasetAction", "action_arguments": {}}, "HideDatasetActionmetrics_file": {"output_name": "metrics_file", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutFile": {"output_name": "outFile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}.duplicate-marked.bam"}}, "RenameDatasetActionmetrics_file": {"output_name": "metrics_file", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}.duplicate-marked.report.txt"}}}, "label": null, "inputs": [{"name": "inputFile", "description": "runtime parameter for tool MarkDuplicates"}], "position": {"top": 200, "left": 1953}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/picard/picard_MarkDuplicates/2.7.1.1", "type": "tool"}, "11": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_flagstat/samtools_flagstat/2.0", "tool_version": "2.0", "outputs": [{"type": "txt", "name": "output1"}], "workflow_outputs": [], "input_connections": {"input1": {"output_name": "output1", "id": 9}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"input1\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 11, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "0072bf593791", "name": "samtools_flagstat", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "f942dc75-3fb2-4c09-a190-980ce564714b", "errors": null, "name": "Flagstat", "post_job_actions": {"HideDatasetActionoutput1": {"output_name": "output1", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutput1": {"output_name": "output1", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "stat_filtered.txt"}}}, "label": "STAT - Filtered", "inputs": [{"name": "input1", "description": "runtime parameter for tool Flagstat"}], "position": {"top": 357, "left": 1953}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_flagstat/samtools_flagstat/2.0", "type": "tool"}, "12": {"tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_bamtobed/2.27.0.0", "tool_version": "2.27.0.0", "outputs": [{"type": "bed", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output1", "id": 9}}, "tool_state": "{\"__page__\": null, \"option\": \"\\\"\\\"\", \"__rerun_remap_job_id__\": null, \"tag\": \"\\\"\\\"\", \"split\": \"\\\"false\\\"\", \"ed_score\": \"\\\"false\\\"\", \"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 12, "tool_shed_repository": {"owner": "iuc", "changeset_revision": "33c3ddea63c5", "name": "bedtools", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "a57a670e-6c71-447d-9eb8-015db08c1932", "errors": null, "name": "BAM to BED", "post_job_actions": {"HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "input", "description": "runtime parameter for tool BAM to BED"}], "position": {"top": 470, "left": 1953}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_bamtobed/2.27.0.0", "type": "tool"}, "13": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtool_filter2/samtool_filter2/1.1.2", "tool_version": "1.1.2", "outputs": [{"type": "sam", "name": "output1"}], "workflow_outputs": [], "input_connections": {"input1": {"output_name": "outFile", "id": 10}}, "tool_state": "{\"__page__\": null, \"bed_file\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"input1\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"possibly_select_inverse\": \"\\\"false\\\"\", \"outputtype\": \"\\\"sam\\\"\", \"library\": \"\\\"\\\"\", \"regions\": \"\\\"\\\"\", \"header\": \"\\\"-h\\\"\", \"flag\": \"{\\\"filter\\\": \\\"yes\\\", \\\"skipBits\\\": [\\\"0x0004\\\", \\\"0x0008\\\", \\\"0x0100\\\", \\\"0x0200\\\", \\\"0x0400\\\"], \\\"__current_case__\\\": 1, \\\"reqBits\\\": null}\", \"mapq\": \"\\\"${minimum_mapq_quality_score}\\\"\", \"read_group\": \"\\\"\\\"\", \"__rerun_remap_job_id__\": null}", "id": 13, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "b7aa423007bf", "name": "samtool_filter2", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "55497634-6b3f-458f-af34-d55e9bf94315", "errors": null, "name": "Filter SAM or BAM, output SAM or BAM", "post_job_actions": {"HideDatasetActionoutput1": {"output_name": "output1", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutput1": {"output_name": "output1", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}.no-duplicates.bam"}}}, "label": "Remove Duplicates", "inputs": [{"name": "bed_file", "description": "runtime parameter for tool Filter SAM or BAM, output SAM or BAM"}, {"name": "input1", "description": "runtime parameter for tool Filter SAM or BAM, output SAM or BAM"}], "position": {"top": 200, "left": 2281}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtool_filter2/samtool_filter2/1.1.2", "type": "tool"}, "14": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "output1", "id": 11}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"BEGIN {FS=\\\\\\\" \\\\\\\"}\\\\n/\\\\\\\\(QC-passed reads \\\\\\\\+ QC-failed reads\\\\\\\\)$/ { printf \\\\\\\"%12s    %14s\\\\\\\\n\\\\\\\", \\\\\\\"Filtered\\\\\\\", $1 }\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 14, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "a8468da4-a66b-4dac-b2e0-59ccbba50b0e", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutfile": {"output_name": "outfile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "nFilteredReads.txt"}}}, "label": "# Filtered Reads", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 357, "left": 2281}, "annotation": "To extract the number of filtered reads from the report of samtools flagstat", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "type": "tool"}, "15": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "output", "id": 12}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"BEGIN { OFS=\\\\\\\"\\\\\\\\t\\\\\\\" } { print $1,$2,$3,$6 }\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 15, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "b646060e-3094-4b62-b534-7d0adaf427b9", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "ChangeDatatypeActionoutfile": {"output_name": "outfile", "action_type": "ChangeDatatypeAction", "action_arguments": {"newtype": "txt"}}}, "label": null, "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 470, "left": 2281}, "annotation": "To select the four columns from the BED file:\n\n$1    $2        $3      $6\nCHR  START  END    STRAND", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "type": "tool"}, "16": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "output1", "id": 13}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"BEGIN { FS=\\\\\\\"\\\\\\\\t\\\\\\\" }\\\\n$3 !~ /MT/ { print }\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 16, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "512edf95-c556-4d2d-aaba-1a34a7a74cc0", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutfile": {"output_name": "outfile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}.noMT.sam"}}}, "label": "Filter Reads - MT", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 200, "left": 2609}, "annotation": "To remove reads mapped to mitochondrion", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "type": "tool"}, "17": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_idxstats/samtools_idxstats/2.0.1", "tool_version": "2.0.1", "outputs": [{"type": "tabular", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output1", "id": 13}}, "tool_state": "{\"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__rerun_remap_job_id__\": null, \"__page__\": null}", "id": 17, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "88b8c2916784", "name": "samtools_idxstats", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "f477ea1b-07fb-402e-9719-72e38be6afc4", "errors": null, "name": "IdxStats", "post_job_actions": {"RenameDatasetActionoutput": {"output_name": "output", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "idx_withMT.txt"}}, "HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "IDX - withMT", "inputs": [{"name": "input", "description": "runtime parameter for tool IdxStats"}], "position": {"top": 304, "left": 2613}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_idxstats/samtools_idxstats/2.0.1", "type": "tool"}, "18": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_flagstat/samtools_flagstat/2.0", "tool_version": "2.0", "outputs": [{"type": "txt", "name": "output1"}], "workflow_outputs": [], "input_connections": {"input1": {"output_name": "output1", "id": 13}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"input1\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 18, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "0072bf593791", "name": "samtools_flagstat", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "c66a879d-a1de-4502-8226-8370748f09aa", "errors": null, "name": "Flagstat", "post_job_actions": {"HideDatasetActionoutput1": {"output_name": "output1", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutput1": {"output_name": "output1", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "stat_nodup.txt"}}}, "label": "STAT - Dedup", "inputs": [{"name": "input1", "description": "runtime parameter for tool Flagstat"}], "position": {"top": 405, "left": 2617}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_flagstat/samtools_flagstat/2.0", "type": "tool"}, "19": {"tool_id": "sort1", "tool_version": "1.0.3", "outputs": [{"type": "input", "name": "out_file1"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "outfile", "id": 15}}, "tool_state": "{\"__page__\": null, \"style\": \"\\\"alpha\\\"\", \"column\": \"\\\"1\\\"\", \"__rerun_remap_job_id__\": null, \"order\": \"\\\"DESC\\\"\", \"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"column_set\": \"[{\\\"other_order\\\": \\\"DESC\\\", \\\"__index__\\\": 0, \\\"other_column\\\": \\\"2\\\", \\\"other_style\\\": \\\"alpha\\\"}, {\\\"other_order\\\": \\\"DESC\\\", \\\"__index__\\\": 1, \\\"other_column\\\": \\\"3\\\", \\\"other_style\\\": \\\"alpha\\\"}, {\\\"other_order\\\": \\\"DESC\\\", \\\"__index__\\\": 2, \\\"other_column\\\": \\\"4\\\", \\\"other_style\\\": \\\"alpha\\\"}]\"}", "id": 19, "uuid": "eda8426c-b267-45ed-9fa1-8e129a8d1065", "errors": null, "name": "Sort", "post_job_actions": {"HideDatasetActionout_file1": {"output_name": "out_file1", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "input", "description": "runtime parameter for tool Sort"}], "position": {"top": 539, "left": 2609}, "annotation": "", "content_id": "sort1", "type": "tool"}, "20": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtool_filter2/samtool_filter2/1.1.2", "tool_version": "1.1.2", "outputs": [{"type": "sam", "name": "output1"}], "workflow_outputs": [{"output_name": "output1", "uuid": "69b9ae9c-ef6f-4b46-abbc-43f5360cd118", "label": null}], "input_connections": {"input1": {"output_name": "outfile", "id": 16}}, "tool_state": "{\"__page__\": null, \"bed_file\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"input1\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"possibly_select_inverse\": \"\\\"false\\\"\", \"outputtype\": \"\\\"bam\\\"\", \"library\": \"\\\"\\\"\", \"regions\": \"\\\"\\\"\", \"header\": \"\\\"-h\\\"\", \"flag\": \"{\\\"filter\\\": \\\"no\\\", \\\"__current_case__\\\": 0}\", \"mapq\": \"\\\"${minimum_mapq_quality_score}\\\"\", \"read_group\": \"\\\"\\\"\", \"__rerun_remap_job_id__\": null}", "id": 20, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "b7aa423007bf", "name": "samtool_filter2", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "71f59330-6337-45ca-a977-2e0f932844cb", "errors": null, "name": "Filter SAM or BAM, output SAM or BAM", "post_job_actions": {"RenameDatasetActionoutput1": {"output_name": "output1", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}.bam"}}}, "label": "SAM-to-BAM 2", "inputs": [{"name": "bed_file", "description": "runtime parameter for tool Filter SAM or BAM, output SAM or BAM"}, {"name": "input1", "description": "runtime parameter for tool Filter SAM or BAM, output SAM or BAM"}], "position": {"top": 200, "left": 2867}, "annotation": "To convert SAM files to BAM files.", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtool_filter2/samtool_filter2/1.1.2", "type": "tool"}, "21": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "output1", "id": 18}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"BEGIN {FS=\\\\\\\" \\\\\\\"}\\\\n/\\\\\\\\(QC-passed reads \\\\\\\\+ QC-failed reads\\\\\\\\)$/ { printf \\\\\\\"%12s    %14s\\\\\\\\n\\\\\\\", \\\\\\\"Deduplicated\\\\\\\", $1 }\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 21, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "86b407ca-d7d2-4f92-b9b6-e0f4b2d3b2bf", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutfile": {"output_name": "outfile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "nDedupReads.txt"}}}, "label": "# Dedup Reads", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 357, "left": 2867}, "annotation": "To extract the number of dedup reads from the report of samtools flagstat", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "type": "tool"}, "22": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_uniq_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "out_file1", "id": 19}}, "tool_state": "{\"skipfields\": \"\\\"0\\\"\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"ignorecase\": \"\\\"false\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"grouping\": \"{\\\"count\\\": \\\"true\\\", \\\"uniqueonly\\\": \\\"false\\\", \\\"repeated\\\": \\\"false\\\", \\\"grouping_select\\\": \\\"no\\\", \\\"__current_case__\\\": 0}\"}", "id": 22, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "588e1d7f-d1fa-4ac9-8544-865805fb8f20", "errors": null, "name": "Unique lines", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "infile", "description": "runtime parameter for tool Unique lines"}], "position": {"top": 470, "left": 2867}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_uniq_tool/1.1.0", "type": "tool"}, "23": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_idxstats/samtools_idxstats/2.0.1", "tool_version": "2.0.1", "outputs": [{"type": "tabular", "name": "output"}], "workflow_outputs": [], "input_connections": {"input": {"output_name": "output1", "id": 20}}, "tool_state": "{\"input\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__rerun_remap_job_id__\": null, \"__page__\": null}", "id": 23, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "88b8c2916784", "name": "samtools_idxstats", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "abeebc31-d3d7-4597-95f0-a1223a1f9ec5", "errors": null, "name": "IdxStats", "post_job_actions": {"RenameDatasetActionoutput": {"output_name": "output", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "idx_withoutMT.txt"}}, "HideDatasetActionoutput": {"output_name": "output", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "IDX - noMT", "inputs": [{"name": "input", "description": "runtime parameter for tool IdxStats"}], "position": {"top": 200, "left": 3195}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_idxstats/samtools_idxstats/2.0.1", "type": "tool"}, "24": {"tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_flagstat/samtools_flagstat/2.0", "tool_version": "2.0", "outputs": [{"type": "txt", "name": "output1"}], "workflow_outputs": [], "input_connections": {"input1": {"output_name": "output1", "id": 20}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"input1\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 24, "tool_shed_repository": {"owner": "devteam", "changeset_revision": "0072bf593791", "name": "samtools_flagstat", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "c199ab66-5c12-4688-8ef4-d48ee8c6355a", "errors": null, "name": "Flagstat", "post_job_actions": {"HideDatasetActionoutput1": {"output_name": "output1", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutput1": {"output_name": "output1", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "stat_noMT.txt"}}}, "label": "STAT - noMT", "inputs": [{"name": "input1", "description": "runtime parameter for tool Flagstat"}], "position": {"top": 313, "left": 3195}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_flagstat/samtools_flagstat/2.0", "type": "tool"}, "25": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0", "tool_version": "0.1.0", "outputs": [{"type": "input", "name": "out_file1"}], "workflow_outputs": [], "input_connections": {"inputs": {"output_name": "outfile", "id": 4}, "queries_3|inputs2": {"output_name": "outfile", "id": 21}, "queries_2|inputs2": {"output_name": "outfile", "id": 14}, "queries_1|inputs2": {"output_name": "outfile", "id": 8}, "queries_0|inputs2": {"output_name": "outfile", "id": 3}}, "tool_state": "{\"__page__\": null, \"inputs\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__rerun_remap_job_id__\": null, \"queries\": \"[{\\\"inputs2\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"__index__\\\": 0}, {\\\"inputs2\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"__index__\\\": 1}, {\\\"inputs2\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"__index__\\\": 2}, {\\\"inputs2\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"__index__\\\": 3}]\"}", "id": 25, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "4c8cf3f8-64b1-46ce-84b2-acf9c797d334", "errors": null, "name": "Concatenate datasets", "post_job_actions": {"RenameDatasetActionout_file1": {"output_name": "out_file1", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}_alignment_report.txt"}}, "HideDatasetActionout_file1": {"output_name": "out_file1", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": null, "inputs": [{"name": "inputs", "description": "runtime parameter for tool Concatenate datasets"}], "position": {"top": 422, "left": 3196}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0", "type": "tool"}, "26": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "outfile", "id": 22}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"BEGIN {\\\\n    print \\\\\\\"\\\\\\\"\\\\n    print \\\\\\\"Library complexity\\\\\\\"\\\\n    print\\\\n    mt=1;m0=1;m1=1;m2=1\\\\n}\\\\n($1==1) { m1=m1+1 }\\\\n($1==2) { m2=m2+1 }\\\\n{m0=m0+1}\\\\n{mt=mt+$1}\\\\nEND {\\\\n    printf \\\\\\\"%5s    %.3f\\\\\\\\n\\\\\\\", \\\\\\\"NRF\\\\\\\", m0/mt\\\\n    printf \\\\\\\"%5s    %.3f\\\\\\\\n\\\\\\\", \\\\\\\"PBC1\\\\\\\", m1/m0\\\\n    printf \\\\\\\"%5s    %.3f\\\\\\\\n\\\\\\\", \\\\\\\"PBC2\\\\\\\", m1/m2\\\\n}\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 26, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "ce26e924-25b3-4296-9417-34036a7e8035", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}}, "label": "Library Complexity Report", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 647, "left": 3195}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "type": "tool"}, "27": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "output1", "id": 24}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"BEGIN {FS=\\\\\\\" \\\\\\\"}\\\\n/\\\\\\\\(QC-passed reads \\\\\\\\+ QC-failed reads\\\\\\\\)$/ {print $1}\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 27, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "0b91879f-43ea-4b21-b074-edda0bc2c8f7", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutfile": {"output_name": "outfile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "nNomtReads.txt"}}}, "label": "# NoMT Reads", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 200, "left": 3474}, "annotation": "To extract the number of final reads from the report of samtools flagstat", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "type": "tool"}, "28": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "tool_version": "1.1.0", "outputs": [{"type": "input", "name": "outfile"}], "workflow_outputs": [], "input_connections": {"infile": {"output_name": "out_file1", "id": 25}}, "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"BEGIN { \\\\n    FS=\\\\\\\" \\\\\\\"\\\\n    print \\\\\\\"Usable Fragments\\\\\\\"\\\\n    print\\\\n    printf \\\\\\\"%12s    %14s    %7s\\\\\\\\n\\\\\\\", \\\\\\\"DATASET\\\\\\\", \\\\\\\"# READS\\\\\\\", \\\\\\\"%\\\\\\\"\\\\n}\\\\nNR==1 { print }\\\\nNR==2 { \\\\n    total = $2 \\\\n    printf \\\\\\\"%26s    %7s\\\\\\\\n\\\\\\\", $0, \\\\\\\"100.0%\\\\\\\"}\\\\nNR>2 {\\\\n    temp = $2 / total * 100\\\\n    printf \\\\\\\"%26s      %-3.1f%\\\\\\\\n\\\\\\\", $0, temp\\\\n}\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\"}", "id": 28, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "a1153931-f2a7-4519-8d89-5855797ecf51", "errors": null, "name": "Text reformatting", "post_job_actions": {"HideDatasetActionoutfile": {"output_name": "outfile", "action_type": "HideDatasetAction", "action_arguments": {}}, "RenameDatasetActionoutfile": {"output_name": "outfile", "action_type": "RenameDatasetAction", "action_arguments": {"newname": "${library}_alignment_report"}}}, "label": "Alignment Report", "inputs": [{"name": "infile", "description": "runtime parameter for tool Text reformatting"}], "position": {"top": 314, "left": 3473}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.0", "type": "tool"}, "29": {"tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0", "tool_version": "0.1.0", "outputs": [{"type": "input", "name": "out_file1"}], "workflow_outputs": [{"output_name": "out_file1", "uuid": "3448b022-eefe-47b6-9a8f-1616cc2f2486", "label": null}], "input_connections": {"inputs": {"output_name": "outfile", "id": 28}, "queries_0|inputs2": {"output_name": "outfile", "id": 26}}, "tool_state": "{\"__page__\": null, \"inputs\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"__rerun_remap_job_id__\": null, \"queries\": \"[{\\\"inputs2\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"__index__\\\": 0}]\"}", "id": 29, "tool_shed_repository": {"owner": "bgruening", "changeset_revision": "e39fceb6ab85", "name": "text_processing", "tool_shed": "toolshed.g2.bx.psu.edu"}, "uuid": "96a6ad84-d24d-4c94-8822-73444b39960f", "errors": null, "name": "Concatenate datasets", "post_job_actions": {}, "label": null, "inputs": [{"name": "inputs", "description": "runtime parameter for tool Concatenate datasets"}], "position": {"top": 200, "left": 3731}, "annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0", "type": "tool"}}, "annotation": "", "a_galaxy_workflow": "true"}